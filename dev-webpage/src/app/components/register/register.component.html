<div class="page-header">
  <img src="assets/Probpm Logo (PNG_Transparent).png" alt="ProBPM Logo" class="logo">

</div>
<div class="flex justify-content-center align-items-center min-h-screen">

    <p-card header="Employee Details" [style]="{ width: '1000px' }" >
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="field-container"  style="display: flex; gap: 1rem;">
        <!-- First Name Field -->
        <div class="field" >
          <label for="fname" class="mandatory-label">First Name</label>
          <input
            type="text"
            pInputText
            formControlName="fname"
            placeholder="Enter your first name"
            id="fname"
            class="small-icon-input"
            required
          />
          <small *ngIf="registerForm.get('fname')?.invalid && registerForm.get('fname')?.touched" class="block p-error">
           First Name is required
          </small>
        </div>
             <!-- Middle Name Field -->
        <div class="field" >
          <label for="mname">Middle Name</label>
          <input
            type="text"
            pInputText
            formControlName="mname"
            placeholder="Enter your middle name"
            id="mname"
            class="small-icon-input"
            required
          />

        </div>
        <!-- Last Name Field -->
        <div class="field">
          <label for="lname" class="mandatory-label">Last Name</label>
          <input
            type="text"
            pInputText
            formControlName="lname"
            placeholder="Enter your last name"
            id="lname"
            class="small-icon-input"
            required
          />
          <small *ngIf="registerForm.get('lname')?.invalid && registerForm.get('lname')?.touched" class="block p-error">
            Last Name is required 
          </small>
        </div>
      </div>
        <!-- Gender Field -->
        <div class="field">
          <label for="gender" class="mandatory-label">Gender</label>
          <div class="flex align-items-center">
            <div class="field-radiobutton" *ngFor="let gender of ['Male', 'Female', 'Others']">
              <p-radioButton
                formControlName="gender"
                [inputId]="gender"
                [value]="gender"
                label="{{ gender }}"
              ></p-radioButton>
            </div>
        </div>
          <small *ngIf="registerForm.get('gender')?.invalid && registerForm.get('gender')?.touched" class="block p-error">
            Gender is required
          </small>
        </div>
    <!-- Date of Birth Field (DOB) -->
    <div class="field ">
      <label for="dob" class="mandatory-label">Date of Birth</label>
      <p-calendar
        formControlName="dob"
        id="dob"
        dateFormat="mm/dd/yy"
        [showIcon]="true"
        placeholder="Select Date of Birth"
        class="w-full"
      ></p-calendar>
      <small *ngIf="registerForm.get('dob')?.invalid && registerForm.get('dob')?.touched" class="block p-error">
        Date of Birth is required
      </small>
    </div>
    <div class="field ">
      <label for="mobile" class="mandatory-label">Mobile Number</label>
      <input
        type="tel"
        pInputText
        formControlName="mobile"
        id="mobile"
        class="small-icon-input"
        placeholder="Enter mobile number"
        required
        pattern="[0-9]{10}" 
      />
      <small *ngIf="registerForm.get('mobile')?.invalid && registerForm.get('mobile')?.touched" class="block p-error">
        Please enter a valid mobile number
      </small>
    </div>
    <div class="field ">
      <label for="ssn" class="mandatory-label">SSN Number </label>
      <input
        type="tel"
        pInputText
        formControlName="ssn"
        id="ssn"
        class="small-icon-input"
        placeholder="Enter SSN number (123-45-6789)"
        required
        pattern="[0-9]{3}-[0-9]{2}-[0-9]{4}"
      />
      <small *ngIf="registerForm.get('ssn')?.invalid && registerForm.get('ssn')?.touched" class="block p-error">
        Please enter a valid SSN number
      </small>
    </div>
        <!-- Qualification Field -->
        <div class="field">
          <label for="qualification" class="mandatory-label">Qualification</label>
          <p-dropdown
          [options]="qualifications"
          formControlName="qualification"
          placeholder="Select Qualification"
          optionLabel="label"
          class="w-full"
          (onChange)="onQualificationChange()" 
        ></p-dropdown>
          <small *ngIf="registerForm.get('qualification')?.invalid && registerForm.get('qualification')?.touched"  class="block p-error">
            Qualification is required
          </small>
        </div>
   <!-- Identity Type Dropdown -->
   <div class="field">
    <label for="identityType" class="mandatory-label">Choose the below option</label>
    <small class="form-description">Choose anyone of the option, if you don't have a driving license or a state ID, you can select a temporary address.</small>

    <p-dropdown
      formControlName="identityType"
      id="identityType"
      [options]="identityTypes"
      placeholder="Select Identity Type"
      (onChange)="onIdentityTypeChange($event)"
      class="small-icon-input"
    ></p-dropdown>
   
  </div>

  <!-- Identity Proof Fields -->
  <div *ngIf="selectedIdentityType !== 'Temporary Address'">
    
    <!-- Driving License or State ID -->
    <div class="field">
      <label for="identityNumber" class="mandatory-label">Identity Proof Number</label>
      <input
        type="text"
        pInputText
        formControlName="identityNumber"
        placeholder="Enter Identity Proof Number"
        id="identityNumber"
        class="small-icon-input"
        required
      />
    </div>

    <!-- Expiry Date -->
    <div class="field">
      <label for="expiryDate" class="mandatory-label">Expiry Date</label>
      <p-calendar
        formControlName="expiryDate"
        id="expiryDate"
        dateFormat="mm/dd/yy"
        [showIcon]="true"
        placeholder="Select Expiry Date"
        class="small-icon-input"
      ></p-calendar>
    </div>
    
    <!-- Address Fields -->
    <div class="field">
      <label for="address" class="mandatory-label">Address</label>
      <input
        type="text"
        pInputText
        formControlName="address"
        id="address"
        class="small-icon-input"
        placeholder="Enter Address"
        required
      />
    </div>

    <div class="field">
      <label for="city" class="mandatory-label">City</label>
      <input
        type="text"
        pInputText
        formControlName="city"
        id="city"
        class="small-icon-input"
        placeholder="Enter City"
        required
      />
    </div>

    <div class="field">
      <label for="state" class="mandatory-label">State</label>
      <input
        type="text"
        pInputText
        formControlName="state"
        id="state"
        class="small-icon-input"
        placeholder="Enter State"
        required
      />
    </div>

    <div class="field">
      <label for="country" class="mandatory-label">Country</label>
      <input
        type="text"
        pInputText
        formControlName="country"
        id="country"
        class="small-icon-input"
        placeholder="Enter Country"
        required
      />
    </div>

    <div class="field">
      <label for="pincode" class="mandatory-label">Pincode</label>
      <input
        type="text"
        pInputText
        formControlName="pincode"
        id="pincode"
        class="small-icon-input"
        placeholder="Enter Pincode"
        required
      />
    </div>
             <!-- Identity Document Upload -->
             <div class="field">
              <label for="identityDocument" class="mandatory-label">Attach Identity Document</label>
              <input
                type="file"
                id="identityDocument"
                formControlName="identityDocument"
                accept="application/pdf, image/*"
                (change)="onFileChange($event)"
                class="w-full"
              />
            </div>
  </div>

  <!-- Temporary Address Fields (when selected) -->
  <div *ngIf="selectedIdentityType === 'Temporary Address'">
    
    <!-- Address Fields (same as above) -->
    <div class="field">
      <label for="address" class="mandatory-label">Address</label>
      <input
        type="text"
        pInputText
        formControlName="address"
        id="address"
        class="small-icon-input"
        placeholder="Enter Address"
        required
      />
    </div>

    <div class="field">
      <label for="city" class="mandatory-label">City</label>
      <input
        type="text"
        pInputText
        formControlName="city"
        id="city"
        class="small-icon-input"
        placeholder="Enter City"
        required
      />
    </div>

    <div class="field">
      <label for="state" class="mandatory-label">State</label>
      <input
        type="text"
        pInputText
        formControlName="state"
        id="state"
        class="small-icon-input"
        placeholder="Enter State"
        required
      />
    </div>

    <div class="field">
      <label for="country" class="mandatory-label">Country</label>
      <input
        type="text"
        pInputText
        formControlName="country"
        id="country"
        class="small-icon-input"
        placeholder="Enter Country"
        required
      />
    </div>

    <div class="field">
      <label for="pincode" class="mandatory-label">Pincode</label>
      <input
        type="text"
        pInputText
        formControlName="pincode"
        id="pincode"
        class="small-icon-input"
        placeholder="Enter Pincode"
        required
      />
    </div>
   
  </div>
  <div class="field">
    <label for="passportNumber" class="mandatory-label">Passport Number</label>
    <input
      type="text"
      pInputText
      formControlName="passportNumber"
      placeholder="Enter Passport Number"
      id="passportNumber"
      class="small-icon-input"
      required
    />
  </div>

  <!-- Expiry Date -->
  <div class="field">
    <label for="passportexpiryDate" class="mandatory-label">Passport Expiry Date</label>
    <p-calendar
      formControlName="passportexpiryDate"
      id="passportexpiryDate"
      dateFormat="mm/dd/yy"
      [showIcon]="true"
      placeholder="Select Expiry Date"
      class="small-icon-input"
    ></p-calendar>
  </div>
  
  <!-- Address Fields -->
  <div class="field">
    <label for="passportaddress" class="mandatory-label">Address</label>
    <input
      type="text"
      pInputText
      formControlName="passportaddress"
      id="passportaddress"
      class="small-icon-input"
      placeholder="Enter Address"
      required
    />
  </div>

  <div class="field">
    <label for="passportcity" class="mandatory-label">City</label>
    <input
      type="text"
      pInputText
      formControlName="passportcity"
      id="passportcity"
      class="small-icon-input"
      placeholder="Enter City"
      required
    />
  </div>

  <div class="field">
    <label for="passportstate" class="mandatory-label">State</label>
    <input
      type="text"
      pInputText
      formControlName="passportstate"
      id="passportstate"
      class="small-icon-input"
      placeholder="Enter State"
      required
    />
  </div>

  <div class="field">
    <label for="passportcountry" class="mandatory-label">Country</label>
    <input
      type="text"
      pInputText
      formControlName="passportcountry"
      id="passportcountry"
      class="small-icon-input"
      placeholder="Enter Country"
      required
    />
  </div>

  <div class="field">
    <label for="passportpincode" class="mandatory-label">Pincode</label>
    <input
      type="text"
      pInputText
      formControlName="passportpincode"
      id="passportpincode"
      class="small-icon-input"
      placeholder="Enter Pincode"
      required
    />
  </div>
           <!-- Identity Document Upload -->
           <div class="field">
            <label for="passportDocument" class="mandatory-label">Attach Passport Document</label>
            <input
              type="file"
              id="passportDocument"
              formControlName="passportDocument"
              accept="application/pdf, image/*"
              (change)="onFileChange($event)"
              class="w-full"
            />
          </div>
        <p-button label="Register" styleClass="small-button" type="submit"></p-button>
      </form>
    </p-card>   
  </div>
  