<!-- Bootstrap Navbar with Logo on the Left and Links on the Right -->
<!-- In your index.html -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <!-- Logo on the Left -->
    <a class="navbar-brand" href="#">
      <img src="assets/Probpm Logo (PNG_Transparent).png" alt="ProBPM Logo" class="logo" style="height: 100px; width: 150px;">
    </a>

    <!-- Toggler for mobile view -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navigation Links aligned to the top-right -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#" id="name1">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="name2">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="name3">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


<div class="align-items-center min-h-screen">
    <p-card >
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="container">
        
        <div *ngIf="currentSection === 1" class="top-section">
          <div class="top-header">
            <h2>Personal Details</h2>
          </div>
          <div class="top-content">
        
        <div class="field-container" >
        <!-- First Name Field -->
        <div class="field" >
          <label for="fname" class="mandatory-label">First Name</label>
          <input
            type="text"
            pInputText
            formControlName="fname"
            placeholder="Enter your first name"
            id="fname"
            class="small-icon-input"
            required
          />
          <small *ngIf="registerForm.get('fname')?.invalid && registerForm.get('fname')?.touched" class="block p-error">
           First Name is required
          </small>
        </div>
             <!-- Middle Name Field -->
        <div class="field" >
          <label for="mname">Middle Name</label>
          <input
            type="text"
            pInputText
            formControlName="mname"
            placeholder="Enter your middle name"
            id="mname"
            class="small-icon-input"
            required
          />

        </div>
        <!-- Last Name Field -->
        <div class="field">
          <label for="lname" class="mandatory-label">Last Name</label>
          <input
            type="text"
            pInputText
            formControlName="lname"
            placeholder="Enter your last name"
            id="lname"
            class="small-icon-input"
            required
          />
          <small *ngIf="registerForm.get('lname')?.invalid && registerForm.get('lname')?.touched" class="block p-error">
            Last Name is required 
          </small>
        </div>
      </div>
        <!-- Gender Field -->
        <div class="field">
          <label for="gender" class="mandatory-label">Gender</label>
          <div class="flex align-items-center">
            <div class="field-radiobutton" *ngFor="let gender of ['Male', 'Female', 'Others']">
              <p-radioButton
                formControlName="gender"
                [inputId]="gender"
                [value]="gender"
                label="{{ gender }}"
              ></p-radioButton>
            </div>
        </div>
          <small *ngIf="registerForm.get('gender')?.invalid && registerForm.get('gender')?.touched" class="block p-error">
            Gender is required
          </small>
        </div>
    <!-- Date of Birth Field (DOB) -->
    <div class="field ">
      <label for="dob" class="mandatory-label">Date of Birth</label>
      <p-calendar
        formControlName="dob"
        id="dob"
        dateFormat="mm/dd/yy"
        [showIcon]="true"
        placeholder="Select Date of Birth"
        class="w-full"
      ></p-calendar>
      <small *ngIf="registerForm.get('dob')?.invalid && registerForm.get('dob')?.touched" class="block p-error">
        Date of Birth is required
      </small>
    </div>
    <div class="field ">
      <label for="mobile" class="mandatory-label">Mobile Number</label>
      <input
        type="tel"
        pInputText
        formControlName="mobile"
        id="mobile"
        class="small-icon-input"
        placeholder="Enter mobile number"
        required
        pattern="[0-9]{10}" 
      />
      <small *ngIf="registerForm.get('mobile')?.invalid && registerForm.get('mobile')?.touched" class="block p-error">
        Please enter a valid mobile number
      </small>
    </div>
    <div class="field ">
      <label for="ssn" class="mandatory-label">SSN Number </label>
      <input
        type="tel"
        pInputText
        formControlName="ssn"
        id="ssn"
        class="small-icon-input"
        placeholder="Enter SSN number (123-45-6789)"
        required
        pattern="[0-9]{3}-[0-9]{2}-[0-9]{4}"
      />
      <small *ngIf="registerForm.get('ssn')?.invalid && registerForm.get('ssn')?.touched" class="block p-error">
        Please enter a valid SSN number
      </small>
    </div>
     
  </div>
  
  </div>
    <div *ngIf="currentSection === 2" class="bottom-section">
      <div class="bottom-header">
        <h2>Identity Details</h2>
      </div>
      <div class="bottom-content">

   <!-- Identity Type Dropdown -->
   <div class="field">
    <label for="identityType" class="mandatory-label">Choose the below option</label>
    <small class="form-description">Choose anyone of the option, if you don't have a driving license or a state ID, you can select a temporary address.</small>

    <p-dropdown
      formControlName="identityType"
      id="identityType"
      [options]="identityTypes"
      placeholder="Select Identity Type"
      (onChange)="onIdentityTypeChange($event)"
      class="small-icon-input"
    ></p-dropdown>
   
  </div>

  <!-- Identity Proof Fields -->
  <div *ngIf="selectedIdentityType !== 'Temporary Address'">
    
    <!-- Driving License or State ID -->
    <div class="field">
      <label for="identityNumber" class="mandatory-label">Identity Proof Number</label>
      <input
        type="text"
        pInputText
        formControlName="identityNumber"
        placeholder="Enter Identity Proof Number"
        id="identityNumber"
        class="small-icon-input"
        required
      />
    </div>

    <!-- Expiry Date -->
    <div class="field">
      <label for="expiryDate" class="mandatory-label">Expiry Date</label>
      <p-calendar
        formControlName="expiryDate"
        id="expiryDate"
        dateFormat="mm/dd/yy"
        [showIcon]="true"
        placeholder="Select Expiry Date"
        class="small-icon-input"
      ></p-calendar>
    </div>
    
    <!-- Address Fields -->
    <div class="field">
      <label for="address" class="mandatory-label">Address</label>
      <input
        type="text"
        pInputText
        formControlName="address"
        id="address"
        class="small-icon-input"
        placeholder="Enter Address"
        required
      />
    </div>

    <div class="field">
      <label for="city" class="mandatory-label">City</label>
      <input
        type="text"
        pInputText
        formControlName="city"
        id="city"
        class="small-icon-input"
        placeholder="Enter City"
        required
      />
    </div>

    <div class="field">
      <label for="state" class="mandatory-label">State</label>
      <input
        type="text"
        pInputText
        formControlName="state"
        id="state"
        class="small-icon-input"
        placeholder="Enter State"
        required
      />
    </div>

    <div class="field">
      <label for="country" class="mandatory-label">Country</label>
      <input
        type="text"
        pInputText
        formControlName="country"
        id="country"
        class="small-icon-input"
        placeholder="Enter Country"
        required
      />
    </div>

    <div class="field">
      <label for="pincode" class="mandatory-label">Pincode</label>
      <input
        type="text"
        pInputText
        formControlName="pincode"
        id="pincode"
        class="small-icon-input"
        placeholder="Enter Pincode"
        required
      />
    </div>
             <!-- Identity Document Upload -->
             <div class="field">
              <label for="identityDocument" class="mandatory-label">Attach Identity Document</label>
              <input
                type="file"
                id="identityDocument"
                formControlName="identityDocument"
                accept="application/pdf, image/*"
                (change)="onFileChange($event)"
                class="w-full"
              />
            </div>
  </div>

  <!-- Temporary Address Fields (when selected) -->
  <div *ngIf="selectedIdentityType === 'Temporary Address'">
    
    <!-- Address Fields (same as above) -->
    <div class="field">
      <label for="address" class="mandatory-label">Address</label>
      <input
        type="text"
        pInputText
        formControlName="address"
        id="address"
        class="small-icon-input"
        placeholder="Enter Address"
        required
      />
    </div>

    <div class="field">
      <label for="city" class="mandatory-label">City</label>
      <input
        type="text"
        pInputText
        formControlName="city"
        id="city"
        class="small-icon-input"
        placeholder="Enter City"
        required
      />
    </div>

    <div class="field">
      <label for="state" class="mandatory-label">State</label>
      <input
        type="text"
        pInputText
        formControlName="state"
        id="state"
        class="small-icon-input"
        placeholder="Enter State"
        required
      />
    </div>

    <div class="field">
      <label for="country" class="mandatory-label">Country</label>
      <input
        type="text"
        pInputText
        formControlName="country"
        id="country"
        class="small-icon-input"
        placeholder="Enter Country"
        required
      />
    </div>

    <div class="field">
      <label for="pincode" class="mandatory-label">Pincode</label>
      <input
        type="text"
        pInputText
        formControlName="pincode"
        id="pincode"
        class="small-icon-input"
        placeholder="Enter Pincode"
        required
      />
    </div>

  </div>
</div>
  </div>


    <div *ngIf="currentSection === 3" class="bottom-section">
      <div class="bottom-header">
        <h2>Passport Details</h2>
      </div>
      <div class="bottom-content">
    <label for="passportNumber" class="mandatory-label">Passport Number</label>
    <input
      type="text"
      pInputText
      formControlName="passportNumber"
      placeholder="Enter Passport Number"
      id="passportNumber"
      class="small-icon-input"
      required
    />
  <!-- Expiry Date -->
  <div class="field">
    <label for="passportexpiryDate" class="mandatory-label">Passport Expiry Date</label>
    <p-calendar
      formControlName="passportexpiryDate"
      id="passportexpiryDate"
      dateFormat="mm/dd/yy"
      [showIcon]="true"
      placeholder="Select Expiry Date"
      class="small-icon-input"
    ></p-calendar>
  </div>
  
  <!-- Address Fields -->
  <div class="field">
    <label for="passportaddress" class="mandatory-label">Address</label>
    <input
      type="text"
      pInputText
      formControlName="passportaddress"
      id="passportaddress"
      class="small-icon-input"
      placeholder="Enter Address"
      required
    />
  </div>

  <div class="field">
    <label for="passportcity" class="mandatory-label">City</label>
    <input
      type="text"
      pInputText
      formControlName="passportcity"
      id="passportcity"
      class="small-icon-input"
      placeholder="Enter City"
      required
    />
  </div>

  <div class="field">
    <label for="passportstate" class="mandatory-label">State</label>
    <input
      type="text"
      pInputText
      formControlName="passportstate"
      id="passportstate"
      class="small-icon-input"
      placeholder="Enter State"
      required
    />
  </div>

  <div class="field">
    <label for="passportcountry" class="mandatory-label">Country</label>
    <input
      type="text"
      pInputText
      formControlName="passportcountry"
      id="passportcountry"
      class="small-icon-input"
      placeholder="Enter Country"
      required
    />
  </div>

  <div class="field">
    <label for="passportpincode" class="mandatory-label">Pincode</label>
    <input
      type="text"
      pInputText
      formControlName="passportpincode"
      id="passportpincode"
      class="small-icon-input"
      placeholder="Enter Pincode"
      required
    />
  </div>
           <!-- Identity Document Upload -->
           <div class="field">
            <label for="passportDocument" class="mandatory-label">Attach Passport Document</label>
            <input
              type="file"
              id="passportDocument"
              formControlName="passportDocument"
              accept="application/pdf, image/*"
              (change)="onFileChange($event)"
              class="w-full"
            />
          </div>
          </div>
  </div>
             <!-- Qualification Field -->
             <div *ngIf="currentSection === 4" class="bottom-section">
              <div class="bottom-header">
                <h2>Academic Details</h2>
              </div>
              <div class="bottom-content">
              <label for="qualification" class="mandatory-label">Qualification</label>
              <p-dropdown
              [options]="qualifications"
              formControlName="qualification"
              placeholder="Select Qualification"
              optionLabel="label"
              class="small-icon-input"
              (onChange)="onQualificationChange()" 
            ></p-dropdown>
              <small *ngIf="registerForm.get('qualification')?.invalid && registerForm.get('qualification')?.touched"  class="block p-error">
                Qualification is required
              </small>
              <label for="specialization" class="mandatory-label">Specialization</label>
        


              <p-dropdown
              [options]="specializations"
              formControlName="specialization"
              placeholder="Select specialization"
              optionLabel="label"
              class="small-icon-input"
            ></p-dropdown>
              <small *ngIf="registerForm.get('specialization')?.invalid && registerForm.get('specialization')?.touched"  class="block p-error">
                Specialization is required
              </small>   
         <!-- University Name Field -->
         <div class="field" >
          <label for="uname" class="mandatory-label">University Name</label>
          <input
            type="text"
            pInputText
            formControlName="uname"
            placeholder="Enter your university name"
            id="uname"
            class="small-icon-input"
            required
          />
          <small *ngIf="registerForm.get('uname')?.invalid && registerForm.get('uname')?.touched" class="block p-error">
           University Name is required
          </small>
        </div>    
         <!-- Course Compeliton Field (DOB) -->
    <div class="field ">
      <label for="ccomp" class="mandatory-label">Course Compelition</label>
      <p-calendar
        formControlName="ccomp"
        id="ccomp"
        dateFormat="mm/dd/yy"
        [showIcon]="true"
        placeholder="Select Course Compelition Date"
        class="w-full"
      ></p-calendar>
      <small *ngIf="registerForm.get('ccomp')?.invalid && registerForm.get('ccomp')?.touched" class="block p-error">
        Course Compelition Date is required
      </small>
    </div>
     <!-- Qualification Document Upload -->
     <div class="field">
      <label for="qualificationDocument" class="mandatory-label">Attach Qualification Document</label>
      <input
        type="file"
        id="qualificationDocument"
        formControlName="qualificationDocument"
        accept="application/pdf, image/*"
        (change)="onFileChange($event)"
        class="w-full"
      />
    </div>
        <!-- Qualification Document Upload -->
        <div class="field">
          <label for="transcriptDocument" class="mandatory-label">Attach Transcripts Document</label>
          <input
            type="file"
            id="transcriptDocument"
            formControlName="transcriptDocument"
            accept="application/pdf, image/*"
            (change)="onFileChange($event)"
            class="w-full"
          />
        </div>
      </div>
      </div>
  <!-- Work Auth Field -->
                     <div *ngIf="currentSection === 5" class="bottom-section">
                      <div class="bottom-header">
                        <h2>Work Authorization</h2>
                      </div>
                      <div class="bottom-content">
              <label for="workauth" class="mandatory-label">Work Authorization Status</label>
              <p-dropdown
              [options]="workauths"
              formControlName="workauth"
              placeholder="Select Work Authorization Status"
              optionLabel="label"
              class="w-full"
              (onChange)="onWorkAuthChange($event.value)" 
            ></p-dropdown>
              <small *ngIf="registerForm.get('workauth')?.invalid && registerForm.get('workauth')?.touched"  class="block p-error">
                Work Authorization is required
              </small>
            
      <!-- Conditional Fields: USCIS Number, Valid From, Valid To, Attach Document -->
  <div *ngIf="showUscisFields">
    <div class="field">
      <label for="uscisNumber">USCIS Number</label>
      <input
        type="text"
        pInputText
        formControlName="uscisNumber"
        id="uscisNumber"
        placeholder="Enter USCIS Number"
        class="w-full"
      />
    </div>

    <div class="field">
      <label for="validFrom">Valid From</label>
      <p-calendar
        formControlName="validFrom"
        id="validFrom"
        dateFormat="mm/dd/yy"
        placeholder="Select Start Date"
        class="w-full"
      ></p-calendar>
    </div>

    <div class="field">
      <label for="validTo">Valid To</label>
      <p-calendar
        formControlName="validTo"
        id="validTo"
        dateFormat="mm/dd/yy"
        placeholder="Select End Date"
        class="w-full"
      ></p-calendar>
    </div>

    <div class="field">
      <label for="attachDoc">Attach Document</label>
      <input
        type="file"
        pInputFile
        formControlName="attachDoc"
        id="attachDoc"
        class="w-full"
      />
    </div>
  </div>
  <div *ngIf="showAttachmentFields">
    <!-- First attachment field -->
    <div class="field">
      <label for="i20">i20 Document </label>
      <input
        type="file"
        pInputText
        formControlName="i20"
        id="i20"
        class="w-full"
      />
    </div>
  
    <!-- Second attachment field -->
    <div class="field">
      <label for="CPTdoc">CPT Document </label>
      <input
        type="file"
        pInputText
        formControlName="CPTdoc"
        id="CPTdoc"
        class="w-full"
      />
    </div>
  </div>  
  <div *ngIf="showJobDuties">
    <div class="field">
      <label for="jobDuties">Job Duties</label>
      <textarea
        formControlName="jobDuties"
        id="jobDuties"
        rows="5"
        placeholder="Enter Job Duties"
        class="w-full"
      ></textarea>
    </div>
  </div>
  
  <!-- Conditional Attachment Field for H1B -->
  <div *ngIf="showAttachmentField">
    <div class="field">
      <label for="h1bdoc">Attach 797A Document</label>
      <input
        type="file"
        pInputText
        formControlName="h1bdoc"
        id="h1bdoc"
        class="w-full"
      />
    </div>
  </div>
  <div *ngIf="showAttachmentField1">
    <div class="field">
      <label for="i94doc">Attach i94 Document</label>
      <input
        type="file"
        pInputText
        formControlName="i94doc"
        id="i94doc"
        class="w-full"
      />
    </div>
  </div>
  <div *ngIf="showAttachmentField2">
    <div class="field">
      <label for="i9doc">Attach i9 Document</label>
      <input
        type="file"
        pInputText
        formControlName="i9doc"
        id="i9doc"
        class="w-full"
      />
    </div>
  </div>
  </div></div>


           <!-- Prev and Next Buttons -->
           <div class="d-flex justify-content-between mt-4">
            
            <button *ngIf="currentSection > 1" type="button" class="btn btn-secondary btn-wide" (click)="prevSection()" [disabled]="currentSection === 1">
               <i class="bi bi-chevron-left"></i> Prev   
            </button>
            <br><br>
                   
            <button *ngIf="currentSection < 5" type="button" class="btn btn-primary btn-wide" (click)="nextSection()" [disabled]="currentSection === 5">
              Next <i class="bi bi-chevron-right"></i>  
            </button>
      
            
          </div>
          <br><br>
          <div *ngIf="currentSection === 5"   >
            <label>
              <input type="checkbox" />
                I Agree that the given data is correct
            </label>
            <br><br>
            <p-button label="Register" type="submit" ></p-button>
          </div>
      </div>
      <footer >
        <div >
          <div class="bg-dark text-white text-center p-3">
            <p>&copy; 2024 ProBPM Company. All rights reserved.</p>
          </div>
          
        </div>
      </footer>

      </form>
     
    </p-card>   
  </div>